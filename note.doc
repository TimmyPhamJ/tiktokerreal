const { useBabelRc } = require("customize-cra")

1. cài đặt customize-cra
npm i customize-cra react-app-rewired -D
đổi trong package.json
/*
"scripts": {
    "start": "react-app-rewired start",
    "build": "react-app-rewired build",
    "test": "react-app-rewired test",
    "eject": "react-app-rewired eject"
  },
*/
2. Tạo file config-overrides.js ngoài dự án gốc copy đoạn dưới vào file.

/* config-overrides.js 
module.exports = function override(config, env) {
    //do stuff with the webpack config...
    return config;
};
*/
_________________________
3. Cài đặt babel-plugin-module-resolver: npm install --save-dev babel-plugin-module-resolver
Tạo 1 file .babelrc tại thư mục gốc
/*
{
  "plugins": [
    [
      "module-resolver",
      {
        "alias": {
          "~": "./src"
        }
      }
    ]
  ]
}

 */

 4. Taoj 1 file jsconfig.json có nội dung:
 /*
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "~/*": ["src/*"]
    }
  }
}

 */

5. tìm customize-cra babel sau đó tìm tới tab useBabelRc. sau đó vào file config-overrides.js làm theo cú pháp sau:
/*
const { override,useBabelRc } = require("customize-cra");

module.exports = override(
    useBabelRc()
);
 */
 ______________________________
 CÀI ĐẶT VÀ CẤU HÌNH PRETTIER: Giúp format các file code HTML,CSS,JS,...giúp code trở nên gọn gàn hơn và ngay ngắn hơn 
 1. thêm 1 file cấu hình .prettierrc  vào thu mục gốc:
 /*
{
    "arrowParens": "always",
    "bracketSameLine": false,
    "bracketSpacing": true,
    "embeddedLanguageFormatting": "auto",
    "htmlWhitespaceSensitivity": "css",
    "insertPragma": false,
    "jsxSingleQuote": false,
    "printWidth": 120,
    "proseWrap": "preserve",
    "quoteProps": "as-needed",
    "requirePragma": false,
    "semi": true,
    "singleQuote": true,
    "tabWidth": 4,
    "trailingComma": "all",
    "useTabs": false,
    "vueIndentScriptAndStyle": false
}
 */
 2. tạo file .vscode/settings.json
 /*
 {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode"
}
 */
 ______________________________
 CẤU HÌNH VÀ SỬ DỤNG CSS/SASS

 1. Tạo GlobalStyle component
 tạo file index. js và GlobalStyle.scss
 sau do import GlobalStyle vào file index.js ngoài src và app = <GlobalStyle> </GlobalStyle> bằng cách bôi den APP ctrl + p chọn wrap enter rồi nhạp then GlobalStyle và enter là ok 

 2. Cài thư viện SASS: 'npm i -D sass'

 3. Reset CSS
 dùng thư viện reset css normalize npm trên google
 "npm install --save normalize.css"

 4. Default CSS: font-family, font-size,line-height

 BỔ SUNG THUỘC TÍNH CSS

 1. Mở file GlobalStyle lên. Thêm * {box-sizing = border-box} 
 
 _________________________________

 CẤU HÌNH ROUTER/LAYOUT CHO DỰ ÁN

  1. Phân tịch tổng quan LAYOUT



  2. Cài đặt React-router-dom: npm i react-router-dom



  3. Đưa cấu hình router ra ngoài
import {BrowserRouter as Router} from 'react-router-dom'; vào file App.js. add trang home và following vào
/*
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import Home from '~/pages/Home';
import Following from '~/pages/Following';

function App() {
  return (
    <Router>
      <div className="App">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/following" element={<Following />} />
        </Routes>
      </div>
    </Router>
  );
}

export default App;
*/

taọ thư mục routers có index.js:
/*
const publicRoutes =[
dùng cho những router không cần đăng nhập vẫn xem được
]

const privateRoutes =[
    phải đang nhập mới xem được nếu không đăng nhập sẽ lái sang trang login
]

export{publicRoutes,privateRoutes}
*/

Chuyển import hom và foloowing sang traing index.js của routes sau đó làm như sau:

*/

taọ thư mục routers có index.js:
/*
import Home from '~/pages/Home';
import Following from '~/pages/Following';

const publicRoutes = [
  { path: '/', component: Home },
  { path: '/following', component: Following },
];

const privateRoutes = [];

export { publicRoutes, privateRoutes };

*/

chuyển sang trang App.js đổi lại như sau:

/*
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { publicRoutes } from '~/routes';

function App() {
  return (
    <Router>
      <div className="App">
        <Routes>
          {publicRoutes.map((route) => {
            return <Route />;
          })}
        </Routes>
      </div>
    </Router>
  );
}

export default App;

*/

Sau này nếu có thêm 1 trang khác vào thì vào pages tạo thêm 1 trang. sau đó vào routes nạp trang mới vào 

  4. Xây dựng cơ chế tải layout 

  tại thư mục component tạo 1 thư mục tên là Layout tạo trong thư mục Layout 1 thư mục khác là DefaultLayout và trong thư mục đó tạo 1 index.js. 
  Thư mục Layout này sau này có thể thêm các layout khác thì chứa chung với thư mục default. 
  Trong defaultlayout thì chỉ thiết kế các nội dung đứng yên và khoogn di chuyển dù là có chuyển trang gọi là layout cố định.
  Tại DefaultLayout tạo thư mục Header và thêm 1 file index.js trong đó sau đó nhân lên các mục cần làm như header, sidebar, footer,...
  tại index.js của defaultlayout import ra:
  /*
  import Header from './Header';
import Sidebar from './Sidebar';

function DefaultLayout({ children }) {
  return (
    <div>
      <Header />
      <div className="container">
        <Sidebar />
        <div className="content">{children}</div>
      </div>
    </div>
  );
}

export default DefaultLayout;
  */

  tại thư mục layout tạo 1 file index.js

  /*
export {default as DefaultLayout} form './DefaultLayout'
  */

  sang file APP.js import layout vào:
  /*
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { publicRoutes } from '~/routes';
import { DefaultLayout } from '~/components/Layout';

function App() {
  return (
    <Router>
      <div className="App">
        <Routes>
          {publicRoutes.map((route, index) => {
            const Layout = route.layout || DefaultLayout;
            const Page = route.component;
            return (
              <Route
                key={index}
                path={route.path}
                element={
                  <Layout>
                    <Page />
                  </Layout>
                }
              />
            );
          })}
        </Routes>
      </div>
    </Router>
  );
}

export default App;

  */

nếu tại index.js của route mà không chỉ định layout:
/*
import Home from '~/pages/Home';
import Following from '~/pages/Following';
import Profile from '~/pages/Profile';

const publicRoutes = [
  { path: '/', component: Home }, mạc định là DefaultLayout
  { path: '/following', component: Following }, mạc định là DefaultLayout
  { path: '/profile', component: Profile, nếu (layout: )},
];

const privateRoutes = [];

export { publicRoutes, privateRoutes };

*/

đối voái các trang 1 mình  1 layout chúng ta sẽ k để DefaultLayout ăn vào layout đó thì:
tạo 1 trang upload trong pages.
cấu hình route cho trang mới:
/*
import Home from '~/pages/Home';
import Following from '~/pages/Following';
import Profile from '~/pages/Profile';
import Upload from '~/pages/Upload';

const publicRoutes = [
  { path: '/', component: Home },
  { path: '/following', component: Following },
  { path: '/profile', component: Profile },
  { path: '/upload', component: Upload, layout: null },
];

const privateRoutes = [];

export { publicRoutes, privateRoutes };
*/

tại APP.js:

/*
import { Fragment } from 'react';

import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { publicRoutes } from '~/routes';
import { DefaultLayout } from '~/components/Layout';

function App() {
  return (
    <Router>
      <div className="App">
        <Routes>
          {publicRoutes.map((route, index) => {
            const Layout = route.layout === null ? Fragment : DefaultLayout;
            const Page = route.component;
            return (
              <Route
                key={index}
                path={route.path}
                element={
                  <Layout>
                    <Page />
                  </Layout>
                }
              />
            );
          })}
        </Routes>
      </div>
    </Router>
  );
}

export default App;

*/

Trong up load vẫn có header:

Cách 1:
vào trang Upload 
/*
import Header from '~/components/Layout/DefaultLayout/Header';

function Upload() {
  return (
    <div>
      <Header />
      <div className="content">
        <h2>Upload Page</h2>
      </div>
    </div>
  );
}

export default Upload;

*/

Cách 2:
Tạo 1 cái layout mới
vào Layout tạo 1 cái HeaderOnly
Trong index.js của Layout:
/*
export { default as DefaultLayout } from './DefaultLayout';
export { default as HeaderOnly } from './HeaderOnly';

*/

trong route:
/*
//Layout
import { HeaderOnly } from '~/components/Layout';

//Pages
import Home from '~/pages/Home';
import Following from '~/pages/Following';
import Profile from '~/pages/Profile';
import Upload from '~/pages/Upload';
import Search from '~/pages/Search';

const publicRoutes = [
  { path: '/', component: Home },
  { path: '/following', component: Following },
  { path: '/profile', component: Profile },
  { path: '/upload', component: Upload, layout: HeaderOnly },
  { path: '/search', component: Search, layout: null },
];

const privateRoutes = [];

export { publicRoutes, privateRoutes };


*/

trong trang App.js:
/*
import { Fragment } from 'react';

import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { publicRoutes } from '~/routes';
import { DefaultLayout } from '~/components/Layout';

function App() {
  return (
    <Router>
      <div className="App">
        <Routes>
          {publicRoutes.map((route, index) => {
            const Page = route.component;

            let Layout = DefaultLayout;

            if (route.layout) {
              Layout = route.layout;
            } else if (route.layout === null) {
              Layout = Fragment;
            }

            return (
              <Route
                key={index}
                path={route.path}
                element={
                  <Layout>
                    <Page />
                  </Layout>
                }
              />
            );
          })}
        </Routes>
      </div>
    </Router>
  );
}

export default App;

*/

trường hợp trùng 02 thư mục Header:
vào layout tạo thư mục components sau đó vào DefaultLayout cắt Header cắt lên components.
sau đó vào index của DefaultLayout sửa lại:
/*
import Header from '~/components/Layout/components/Header';
import Sidebar from './Sidebar';

function DefaultLayout({ children }) {
  return (
    <div>
      <Header />
      <div className="container">
        <Sidebar />
        <div className="content">{children}</div>
      </div>
    </div>
  );
}

export default DefaultLayout;

*/

xóa bỏ header trong HeaderOnly sau đó vào index.js của HeaderOnly:
/*
import Header from '~/components/Layout/components/Header';

function DefaultLayout({ children }) {
  return (
    <div>
      <Header />
      <div className="container">
        <div className="content">{children}</div>
      </div>
    </div>
  );
}

export default DefaultLayout;
*/

____________________________________

DỰNG KHUNG LAYOUT MẶC ĐỊNH

Vào component/Layout/components/Header tạo file Header.module.scss
Sau đó import vào index.js của Header.

đi cài thư viện classnames: npm i classnames.
sau đó import classnames vào trong index.js của Header:

trong index.js của Header
/*
import classNames from 'classnames/bind';

import styles from './Header.module.scss';

const cx = classNames.bind(styles);

function Header() {
  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}></div>
    </header>
  );
}

export default Header;


*/

trong Header.module.scss
/*
.wrapper {
  width: 100%;
  height: 60px;
  box-shadow: 0px 1px 1px rgb(0 0 0 / 12%);
  display: flex;
  justify-content: center;
}

.inner {
  height: 100%;
  width: 1150px;
  background-color: #ccc;
}


*/

sang GlobalStyles.scss:
/*
@import 'normalize.css';

@import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #fe2c55;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

body {
  font-family: 'Mitr', sans-serif;
  font-size: 1.6rem;
  line-height: 1.5;
  text-rendering: optimizeSpeed; //tối ưu để hiển thị font nhanh nhất
}

*/

vào DefaultLayout tạo file DefaultLayout.module.scss 

chỉnh trong index.js - DefaultLayout:
/*
import classNames from 'classnames/bind';

import Header from '~/components/Layout/components/Header';
import styles from './DefaultLayout.module.scss';
import Sidebar from './Sidebar';

const cx = classNames.bind(styles);

function DefaultLayout({ children }) {
  return (
    <div className={cx('wrapper')}>
      <Header />
      <div className={cx('container')}>
        <Sidebar />
        <div className={cx('content')}>{children}</div>
      </div>
    </div>
  );
}

export default DefaultLayout;

*/

trong DefaultLayout.module.scss 
/*
.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.container {
  width: 1150px;
}

*/

làm sang Sidebar tạo file Sidebar.module.scss

trong index.js Sidebar
/*
import classNames from 'classnames/bind';

import styles from './Sidebar.module.scss';

const cx = classNames.bind(styles);

function Sidebar() {
  return <aside className={cx('wrapper')}>
    <h2>Sidebar</h2>
  </aside>;
}

export default Sidebar;

*/

trong Sidebar.module.scss
/*
.wrapper {
  width: 356px;
}

*/
__________________________________________
Xây dựng UI phần Header #1 phần header


Taọ thư mục asset - images - file index.js và logo.svg.

trong index.js - images:
/*
const images = {
  logo: require('~/assets/images/logo.svg'),
};
export default images;

*/
thay đổi trong file GlobalStyles.scss:
/*
@import 'normalize.css';

@import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #fe2c55;
  --black: #000;
  --text-color: #333;

  //Default Layout
  --default-layout-header-height: 60px;
  --default-layout-width-content: 1150px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

body {
  font-family: 'Mitr', sans-serif;
  font-size: 1.6rem;
  line-height: 1.5;
  text-rendering: optimizeSpeed; //tối ưu để hiển thị font nhanh nhất
  color: var(--text-color);
}

button,
input,
[tabindex] {
  outline: none;
  border: none;
}

a [href] {
  color: var(--text-color);
  text-decoration: none;
}

*/

Thay đổi trong index.js Header:
/*
import classNames from 'classnames/bind';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCircleXmark, faMagnifyingGlass, faSpinner } from '@fortawesome/free-solid-svg-icons';

import styles from './Header.module.scss';

import images from '~/assets/images';

const cx = classNames.bind(styles);

function Header() {
  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}>
        <div className={cx('logo')}>
          <img src={images.logo} alt="TikTok" />
        </div>
        <div className={cx('search')}>
          <input placeholder="Search accounts and videos" spellCheck={false} />
          <button className={cx('clear-btn')}>
            <FontAwesomeIcon icon={faCircleXmark} />
          </button>
          <FontAwesomeIcon className={cx('loading')} icon={faSpinner} />
          <button className={cx('search-btn')}>
            <FontAwesomeIcon icon={faMagnifyingGlass} />
          </button>
        </div>
        <div className={cx('actions')}></div>
      </div>
    </header>
  );
}

export default Header;

*/

Thay đổi trong Header.module.scss:
/*
.wrapper {
  --search-border-radius: 92px;
  --search-height: 46px;
  --search-top-spacer: 9px;
  --search-button-width: 52px;

  width: 100%;
  height: var(--default-layout-header-height, 60px);
  box-shadow: 0px 1px 1px rgb(0 0 0 / 12%);
  display: flex;
  justify-content: center;
}

.inner {
  height: 100%;
  width: var(--default-layout-width-content);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
}

.search {
  position: relative;
  width: 361px;
  height: var(--search-height);
  padding-left: 16px;
  display: flex;
  background-color: rgba(22, 24, 35, 0.06);
  border-radius: var(--search-border-radius);
  border: 1.5px solid transparent;

  input {
    flex: 1;
    height: 100%;
    color: var(--black);
    font-size: 1.6rem;
    caret-color: var(--primary);
    background-color: transparent;
  }

  input:not(:placeholder-shown) ~ .search-btn {
    color: rgba(22, 24, 35, 0.75);
  }

  &::after {
    content: '';
    position: absolute;
    top: var(--search-top-spacer);
    right: var(--search-button-width);
    height: calc(var(--search-height) - var(--search-top-spacer) * 2);
    width: 1px;
    background-color: rgba(22, 24, 35, 0.12);
  }

  &:focus-within {
    border-color: rgba(22, 24, 35, 0.2);
  }
}

.clear-btn,
.loading {
  position: absolute;
  right: calc(var(--search-button-width) + 16px);
  top: 50%;
  transform: translateY(-50%);
  color: rgba(22, 24, 35, 0.34);
}

.search-btn {
  width: var(--search-button-width);
  height: 100%;
  border-top-right-radius: var(--search-border-radius);
  border-bottom-right-radius: var(--search-border-radius);
  font-size: 1.8rem;
  color: rgba(22, 24, 35, 0.34);

  &:hover {
    cursor: pointer;
    background-color: rgba(22, 24, 35, 0.03);
  }

  &:active {
    background-color: rgba(22, 24, 35, 0.06);
  }
}

*/

__________________________________________
Xây dựng UI phần Header #2 phần tìm kiếm

dùng thư viện tippy để làm khu vực kết quả tìm kiếm: https://github.com/atomiks/tippyjs-react
cú pháp cài đặt: npm i @tippyjs/react
để tìm hiểu thêm tippy lên google tìm Tippy react props:https://atomiks.github.io/tippyjs/v5/all-props/

trong index.js của Header:
/*
import { useEffect, useState } from 'react';
import classNames from 'classnames/bind';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCircleXmark, faMagnifyingGlass, faSpinner } from '@fortawesome/free-solid-svg-icons';
import Tippy from '@tippyjs/react/headless';

import styles from './Header.module.scss';

import images from '~/assets/images';

import { Wrapper as PopperWrapper } from '~/components/Popper';
import AccountItem from '~/components/AccountItem';

const cx = classNames.bind(styles);

function Header() {
  const [searchResult, setSearchResult] = useState([]);

  useEffect(() => {
    setTimeout(() => {
      setSearchResult([/*sau này sẽ gọi api nên giờ ẩn đi*/]);
    }, 0);
  }, []);

  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}>
        <div className={cx('logo')}>
          <img src={images.logo} alt="TikTok" />
        </div>

        <Tippy
          interactive
          visible={searchResult.length > 0}
          render={(attrs) => (
            <div className={cx('search-result')} tabIndex="-1" {...attrs}>
              <PopperWrapper>
                <h4 className={cx('search-title')}>Accounts</h4>
                <AccountItem />
                <AccountItem />
                <AccountItem />
                <AccountItem />
              </PopperWrapper>
            </div>
          )}
        >
          <div className={cx('search')}>
            <input placeholder="Search accounts and videos" spellCheck={false} />

            <button className={cx('clear-btn')}>
              <FontAwesomeIcon icon={faCircleXmark} />
            </button>

            <FontAwesomeIcon className={cx('loading')} icon={faSpinner} />

            <button className={cx('search-btn')}>
              <FontAwesomeIcon icon={faMagnifyingGlass} />
            </button>
          </div>
        </Tippy>

        <div className={cx('actions')}></div>
      </div>
    </header>
  );
}

export default Header;

*/

Tạo 1 coponents nữa chung vói thư viện Layout và GlobalStyle gọi là Popper:

trong file index của Popper:
/*
export {default as Wrapper} from './Wrapper'
*/

trong file Wrapper của Popper:
/*
import classNames from 'classnames/bind';

import styles from './Popper.module.scss';

const cx = classNames.bund(styles);

function Wrapper({ children }) {
  return <div className={cx('wapper')}>{children}</div>;
}

export default Wrapper;

*/
Trong phanaf index Header:
/* 
import { useEffect, useState } from 'react';
import classNames from 'classnames/bind';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCircleXmark, faMagnifyingGlass, faSpinner } from '@fortawesome/free-solid-svg-icons';

import Tippy from '@tippyjs/react/headless';

import styles from './Header.module.scss';

import images from '~/assets/images';

import { Wrapper as PopperWrapper } from '~/components/Popper';

const cx = classNames.bind(styles);

function Header() {
  const [searchResult, setSearchResult] = useState([]);

  useEffect(() => {
    setTimeout(() => {
      setSearchResult([1, 2, 3]);
    }, 3000);
  }, []);

  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}>
        <div className={cx('logo')}>
          <img src={images.logo} alt="TikTok" />
        </div>

        <Tippy
          interactive
          visible={searchResult.length > 0}
          render={(attrs) => (
            <PopperWrapper>
              <div className={cx('search-result')} tabIndex="-1" {...attrs}>
                Kết Quả
              </div>
            </PopperWrapper>
          )}
        >
          <div className={cx('search')}>
            <input placeholder="Search accounts and videos" spellCheck={false} />

            <button className={cx('clear-btn')}>
              <FontAwesomeIcon icon={faCircleXmark} />
            </button>

            <FontAwesomeIcon className={cx('loading')} icon={faSpinner} />

            <button className={cx('search-btn')}>
              <FontAwesomeIcon icon={faMagnifyingGlass} />
            </button>
          </div>
        </Tippy>

        <div className={cx('actions')}></div>
      </div>
    </header>
  );
}

export default Header;

*/

Trong file Popper.module.scss:
/*
.wrapper {
  width: 100%;
  max-height: min((100vh - 96px) - 60px, 734px);
  min-height: 100px;
  padding-top: 8px;
  border-radius: 8px;
  background: rgb(255, 255, 255);
  box-shadow: rgb(0 0 0 / 12%) 0px 2px 12px;
}

*/

Tạo thêm 1 thư mục components/AcCountItem

Trong file index.js AcCountItem:
/*
import classNames from 'classnames/bind';
import styles from './AccountItem.module.scss';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCheckCircle } from '@fortawesome/free-solid-svg-icons';

const cx = classNames.bind(styles);

function AccountItem() {
  return (
    <div className={cx('wrapper')}>
      <img
        className={cx('avatar')}
        src="https://p16-sign-va.tiktokcdn.com/tos-useast2a-avt-0068-giso/4abd3d07ddea0f1c636aec1bba9cf997~c5_100x100.jpeg?x-expires=1682524800&x-signature=7L6g4kvIdlbeqZBQAkzAKSg4iOA%3D"
        alt="Roisee"
      />
      <div className={cx('info')}>
        <h4 className={cx('name')}>
          <span>Roisee</span>
          <FontAwesomeIcon className={cx('check')} icon={faCheckCircle} />
        </h4>
        <span className={cx('username')}>Hoàng Thị Hằng Phượng</span>
      </div>
    </div>
  );
}

export default AccountItem;

*/

Trong file Scss AcCountItem:
/*
.wrapper {
  display: flex;
  align-items: center;
  padding: 9px 16px;
  cursor: pointer;

  &:hover {
    background: rgba(22, 24, 35, 0.03);
  }
}

.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.info {
  flex: 1;
  margin-left: 12px;
}

.name {
  font-size: 1.4rem;
  font-weight: 500;
}

.check {
  margin-left: 6px;
  color: rgb(32, 213, 236);
}

.username {
  font-size: 1.4rem;
  color: rgb(22, 24, 35, 0.5);
}
*/

____________________________________
Xây dựng UI phần Header #3 nút nhấn

Vào src/components/Button/index.js & Button.module.scss

Trong Button/index.js:
/*
import { Link } from 'react-router-dom';

import classNames from 'classnames/bind';
import styles from './Button.module.scss';

const cx = classNames.bind(styles);

function Button({
  to,
  href,
  primary = false,
  outline = false,
  text = false,
  rounded = false,
  disabled = false,
  small = false,
  large = false,
  children,
  className,
  leftIcon,
  rightIcon,
  onClick,
  ...passProps
}) {
  let Comp = 'button';

  const props = {
    onClick,
    ...passProps,
  };

  //Xóa lắng nghe sự kiện khi nút nhắn không hoạt động
  if (disabled) {
    Object.keys(props).forEach((key) => {
      if (key.startsWith('on') && typeof props[key] === 'function') {
        delete props[key];
      }
    });
  }

  if (to) {
    props.to = to;
    Comp = Link;
  } else if (href) {
    props.href = href;
    Comp = 'a';
  }

  const classes = cx('wrapper', {
    [className]: className,
    primary,
    outline,
    text,
    disabled,
    rounded,
    small,
    large,
  });

  return (
    <Comp className={classes} {...props}>
      {leftIcon && <span className={cx('icon')}>{leftIcon}</span>}
      <span className={cx('title')}>{children}</span>
      {rightIcon && <span className={cx('icon')}>{rightIcon}</span>}
    </Comp>
  );
}

export default Button;

*/

Đi vào Layout/components/Header vào file index của nó

Trong Header/index.js:
/*
import { useEffect, useState } from 'react';
import classNames from 'classnames/bind';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCircleXmark, faMagnifyingGlass, faSpinner } from '@fortawesome/free-solid-svg-icons';
import Tippy from '@tippyjs/react/headless';

import styles from './Header.module.scss';

import images from '~/assets/images';

import { Wrapper as PopperWrapper } from '~/components/Popper';

import AccountItem from '~/components/AccountItem';

import Button from '~/components/Button';

const cx = classNames.bind(styles);

function Header() {
  const [searchResult, setSearchResult] = useState([]);

  useEffect(() => {
    setTimeout(() => {
      setSearchResult([
        /*sau này sẽ gọi api nên giờ ẩn đi*/
      ]);
    }, 0);
  }, []);

  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}>
        <div className={cx('logo')}>
          <img src={images.logo} alt="TikTok" />
        </div>

        <Tippy
          interactive
          visible={searchResult.length > 0}
          render={(attrs) => (
            <div className={cx('search-result')} tabIndex="-1" {...attrs}>
              <PopperWrapper>
                <h4 className={cx('search-title')}>Accounts</h4>
                <AccountItem />
                <AccountItem />
                <AccountItem />
                <AccountItem />
              </PopperWrapper>
            </div>
          )}
        >
          <div className={cx('search')}>
            <input placeholder="Search accounts and videos" spellCheck={false} />

            <button className={cx('clear-btn')}>
              <FontAwesomeIcon icon={faCircleXmark} />
            </button>

            <FontAwesomeIcon className={cx('loading')} icon={faSpinner} />

            <button className={cx('search-btn')}>
              <FontAwesomeIcon icon={faMagnifyingGlass} />
            </button>
          </div>
        </Tippy>

        <div className={cx('actions')}>
          <Button text>Upload</Button>
          <Button primary>Log in</Button>
        </div>
      </div>
    </header>
  );
}

export default Header;

*/

Trong Button/Button.module.scss:
/*
.wrapper {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 100px;
  padding: 9px 16px;
  border-radius: 4px;
  font-size: 1.6rem;
  font-weight: 700;
  text-align: center;
  cursor: pointer;
  background-color: var(--White);
  border: 1px solid transparent;
  user-select: none;

  + .wrapper {
    margin-left: 8px;
  }
  //Disabled
  &.disabled {
    pointer-events: none;
    opacity: 0.5;
  }
}

.icon + .title,
.title + .icon {
  margin-left: 8px;
}

//Button types

.rounded {
  border-radius: 999px;
  box-shadow: 0 2px 8px rgb(0 0 0 / 6%);
  border-color: rgba(22, 24, 35, 0.12);

  &:hover {
    border-color: rgba(22, 24, 35, 0.2);
    background-color: rgba(22, 24, 35, 0.03);
  }
}

.primary {
  color: var(--White);
  background-color: var(--primary);
  border-color: var(--primary);

  &:hover {
    border-color: var(--primary);
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #fe2c55;
  }
}

.outline {
  color: var(--primary);
  border-color: currentColor;

  &:hover {
    border-color: currentColor;
    background-color: rgba(254, 44, 85, 0.06);
  }
}

.text {
  &:hover {
    text-decoration: underline;
  }
}

//Button size
.small {
  min-width: 88px;
  padding: 4px 16px;
}

.large {
  padding: 14px 16px;
  min-width: 140px;
}

*/

Tạo thêm biến GlobalStyle:
/*
@import 'normalize.css';

@import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #fe2c55;
  --black: #000;
  --White: #fff;
  --text-color: #333;

  //Default Layout
  --default-layout-header-height: 60px;
  --default-layout-width-content: 1150px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

body {
  font-family: 'Mitr', sans-serif;
  font-size: 1.6rem;
  line-height: 1.5;
  text-rendering: optimizeSpeed; //tối ưu để hiển thị font nhanh nhất
  color: var(--text-color);
}

button,
input,
[tabindex] {
  outline: none;
  border: none;
}

a,
[href] {
  color: var(--text-color);
  text-decoration: none;
}

*/

_________________________________
Xây dựng UI phần Header #4 Ui của Header

trong file components/Header/index.js
/*

*/

Trong file components/Header/Header.module.scss
/*
.wrapper {
  --search-border-radius: 92px;
  --search-height: 46px;
  --search-top-spacer: 9px;
  --search-button-width: 52px;

  width: 100%;
  height: var(--default-layout-header-height, 60px);
  box-shadow: 0px 1px 1px rgb(0 0 0 / 12%);
  display: flex;
  justify-content: center;
}

.inner {
  height: 100%;
  width: var(--default-layout-width-content);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
}

.search,
.search-result {
  width: 361px;
}

.search {
  position: relative;
  height: var(--search-height);
  padding-left: 16px;
  display: flex;
  background-color: rgba(22, 24, 35, 0.06);
  border-radius: var(--search-border-radius);
  border: 1.5px solid transparent;

  input {
    flex: 1;
    height: 100%;
    color: var(--black);
    font-size: 1.6rem;
    caret-color: var(--primary);
    background-color: transparent;
  }

  input:not(:placeholder-shown) ~ .search-btn {
    color: rgba(22, 24, 35, 0.75);
  }

  &::after {
    content: '';
    position: absolute;
    top: var(--search-top-spacer);
    right: var(--search-button-width);
    height: calc(var(--search-height) - var(--search-top-spacer) * 2);
    width: 1px;
    background-color: rgba(22, 24, 35, 0.12);
  }

  &:focus-within {
    border-color: rgba(22, 24, 35, 0.2);
  }
}

.search-title {
  padding: 5px 12px;
  font-size: 1.4rem;
  font-weight: 500;
  color: rgba(22, 24, 35, 0.5);
}

.clear-btn,
.loading {
  position: absolute;
  right: calc(var(--search-button-width) + 16px);
  top: 50%;
  transform: translateY(-50%);
  color: rgba(22, 24, 35, 0.34);
}

.search-btn {
  width: var(--search-button-width);
  height: 100%;
  border-top-right-radius: var(--search-border-radius);
  border-bottom-right-radius: var(--search-border-radius);
  font-size: 1.8rem;
  color: rgba(22, 24, 35, 0.34);

  &:hover {
    cursor: pointer;
    background-color: rgba(22, 24, 35, 0.03);
  }

  &:active {
    background-color: rgba(22, 24, 35, 0.06);
  }
}

.more-btn {
  font-size: 2rem;
  margin-left: 28px;
  padding: 4px 8px;
  background-color: transparent;
}


*/

Tạo Popper/Menu/index.js

Trong Menu/index.js:
/*
import Tippy from '@tippyjs/react/headless';
import classNames from 'classnames/bind';

import { Wrapper as PopperWrapper } from '~/components/Popper';
import MenuItem from './MenuItem';
import styles from './Menu.module.scss';

const cx = classNames.bind(styles);

function Menu({ children, items = [] }) {
  const renderItems = () => {
    return items.map((item, index) => <MenuItem key={index} data={item} />);
  };

  return (
    <Tippy
      interactive
      delay={[0, 700]}
      placement="bottom-end"
      render={(attrs) => (
        <div className={cx('menu-list')} tabIndex="-1" {...attrs}>
          <PopperWrapper className={cx('menu-popper')}>{renderItems()}</PopperWrapper>
        </div>
      )}
    >
      {children}
    </Tippy>
  );
}

export default Menu;

*/

Trong Menu/Menu.module.scss:
/*
//Menu wrapper
.menu-list {
  width: 224px;

  //Menu item
  .menu-item {
    margin-left: 0;
  }
}

.menu-popper {
  padding-bottom: 8px;
}

//Menu item
.menu-item {
  width: 100%;
  justify-content: flex-start;
  border-radius: 0;
  font-weight: unset;
  padding: 11px 16px;

  &:hover {
    background-color: rgba(22, 24, 35, 0.03);
  }
}

*/

Trong Menu/MenuItem.js
/*
import Button from '~/components/Button';
import classNames from 'classnames/bind';
import styles from './Menu.module.scss';

const cx = classNames.bind(styles);

function MenuItem({ data }) {
  return (
    <Button className={cx('menu-item')} leftIcon={data.icon} to={data.to}>
      {data.title}
    </Button>
  );
}

export default MenuItem;

*/

Trong Button/Buttom.module.scss
/*
.wrapper {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 100px;
  padding: 9px 16px;
  border-radius: 4px;
  font-size: 1.6rem;
  font-weight: 700;
  text-align: center;
  cursor: pointer;
  background-color: var(--White);
  border: 1px solid transparent;
  user-select: none;

  + .wrapper {
    margin-left: 8px;
  }
  //Disabled
  &.disabled {
    pointer-events: none;
    opacity: 0.5;
  }
}

.icon + .title,
.title + .icon {
  margin-left: 8px;
}

.icon {
  display: inline-block;
  width: 24px;
  text-align: center;
}

//Button types

.rounded {
  border-radius: 999px;
  box-shadow: 0 2px 8px rgb(0 0 0 / 6%);
  border-color: rgba(22, 24, 35, 0.12);

  &:hover {
    border-color: rgba(22, 24, 35, 0.2);
    background-color: rgba(22, 24, 35, 0.03);
  }
}

.primary {
  color: var(--White);
  background-color: var(--primary);
  border-color: var(--primary);

  &:hover {
    border-color: var(--primary);
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #fe2c55;
  }
}

.outline {
  color: var(--primary);
  border-color: currentColor;

  &:hover {
    border-color: currentColor;
    background-color: rgba(254, 44, 85, 0.06);
  }
}

.text {
  &:hover {
    text-decoration: underline;
  }
}

//Button size
.small {
  min-width: 88px;
  padding: 4px 16px;
}

.large {
  padding: 14px 16px;
  min-width: 140px;
}
*/

Trong file Popper/Wrapper.js
/*
import classNames from 'classnames/bind';

import styles from './Popper.module.scss';

const cx = classNames.bind(styles);

function Wrapper({ children, className }) {
  return <div className={cx('wrapper', className)}>{children}</div>;
}

export default Wrapper;

*/


______________________________
Xây dựng UI phần Header #5

Trong components/GlobalStyle/GlobalStyle.module.scss:
/*
@import 'normalize.css';

@import url('https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600;700&display=swap');

:root {
  --primary: #fe2c55;
  --black: #000;
  --White: #fff;
  --text-color: #333;

  //Default Layout
  --default-layout-header-height: 60px;
  --default-layout-width-content: 1150px;
  --default-layout-horizontal-spacer: 24px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

body {
  font-family: 'Mitr', sans-serif;
  font-size: 1.6rem;
  line-height: 1.5;
  text-rendering: optimizeSpeed; //tối ưu để hiển thị font nhanh nhất
  color: var(--text-color);
}

button,
input,
[tabindex] {
  outline: none;
  border: none;
}

a,
[href] {
  color: var(--text-color);
  text-decoration: none;
}
*/

Vào components/Layout/components/Header.module.scss:
/*
.wrapper {
  --search-border-radius: 92px;
  --search-height: 46px;
  --search-top-spacer: 9px;
  --search-button-width: 52px;

  width: 100%;
  height: var(--default-layout-header-height, 60px);
  box-shadow: 0px 1px 1px rgb(0 0 0 / 12%);
  display: flex;
  justify-content: center;
}

.inner {
  height: 100%;
  width: var(--default-layout-width-content);
  padding: 0 var(--default-layout-horizontal-spacer);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
}

.search,
.search-result {
  width: 361px;
}

.search {
  position: relative;
  height: var(--search-height);
  padding-left: 16px;
  display: flex;
  background-color: rgba(22, 24, 35, 0.06);
  border-radius: var(--search-border-radius);
  border: 1.5px solid transparent;

  input {
    flex: 1;
    height: 100%;
    color: var(--black);
    font-size: 1.6rem;
    caret-color: var(--primary);
    background-color: transparent;
  }

  input:not(:placeholder-shown) ~ .search-btn {
    color: rgba(22, 24, 35, 0.75);
  }

  &::after {
    content: '';
    position: absolute;
    top: var(--search-top-spacer);
    right: var(--search-button-width);
    height: calc(var(--search-height) - var(--search-top-spacer) * 2);
    width: 1px;
    background-color: rgba(22, 24, 35, 0.12);
  }

  &:focus-within {
    border-color: rgba(22, 24, 35, 0.2);
  }
}

.search-title {
  padding: 5px 12px;
  font-size: 1.4rem;
  font-weight: 500;
  color: rgba(22, 24, 35, 0.5);
}

.clear-btn,
.loading {
  position: absolute;
  right: calc(var(--search-button-width) + 16px);
  top: 50%;
  transform: translateY(-50%);
  color: rgba(22, 24, 35, 0.34);
}

.search-btn {
  width: var(--search-button-width);
  height: 100%;
  border-top-right-radius: var(--search-border-radius);
  border-bottom-right-radius: var(--search-border-radius);
  font-size: 1.8rem;
  color: rgba(22, 24, 35, 0.34);

  &:hover {
    cursor: pointer;
    background-color: rgba(22, 24, 35, 0.03);
  }

  &:active {
    background-color: rgba(22, 24, 35, 0.06);
  }
}

.more-btn {
  font-size: 2rem;
  margin-left: 28px;
  padding: 4px 8px;
  background-color: transparent;
  cursor: pointer;
}

*/

Trong Layout/DefaultLayout/DefaultLayout.module.scss:
/*
.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.container {
  width: var(--default-layout-width-content);
  padding: 0 var(--default-layout-horizontal-spacer);
  display: flex;
}

.content {
  flex: 1;
}

*/

trong components/Popper/Menu/Menu.module.scss:
/*
//Menu wrapper
.menu-list {
  width: 224px;

  //Menu item
  .menu-item {
    margin-left: 0;
  }
}

.menu-popper {
  padding-bottom: 8px;
}

//Menu item
.menu-item {
  width: 100%;
  justify-content: flex-start;
  border-radius: 0;
  font-weight: unset;
  padding: 11px 16px;
  line-height: 1.8rem;

  &:hover {
    background-color: rgba(22, 24, 35, 0.03);
  }
}
*/

Trong Popper/Menu/Header.js
/*
import classNames from 'classnames/bind';

import styles from './Menu.module.scss';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faChevronLeft } from '@fortawesome/free-solid-svg-icons';

const cx = classNames.bind(styles);

function Header({ title, onBack }) {
  return (
    <header className={cx('header')}>
      <button className={cx('back-btn')} onClick={onBack}>
        <FontAwesomeIcon icon={faChevronLeft} />
      </button>
      <h4 className={cx('header-title')}>{title}</h4>
    </header>
  );
}

export default Header;

*/

Trong Popper/Menu/index.js
/*
import Tippy from '@tippyjs/react/headless';
import classNames from 'classnames/bind';

import { Wrapper as PopperWrapper } from '~/components/Popper';
import MenuItem from './MenuItem';
import styles from './Menu.module.scss';
import Header from './Header';
import { useState } from 'react';

const cx = classNames.bind(styles);

const defaultFn = () => {};

function Menu({ children, items = [], onChange = defaultFn }) {
  const [history, setHistory] = useState([{ data: items }]);
  const current = history[history.length - 1];

  const renderItems = () => {
    return current.data.map((item, index) => {
      const isParent = !!item.children;

      return (
        <MenuItem
          key={index}
          data={item}
          onClick={() => {
            if (isParent) {
              setHistory((prev) => [...prev, item.children]);
            } else {
              onChange(item);
            }
          }}
        />
      );
    });
  };

  return (
    <Tippy
      interactive
      delay={[0, 700]}
      placement="bottom-end"
      render={(attrs) => (
        <div className={cx('menu-list')} tabIndex="-1" {...attrs}>
          <PopperWrapper className={cx('menu-popper')}>
            {history.length > 1 && (
              <Header
                title="Language"
                onBack={() => {
                  setHistory((prev) => prev.slice(0, prev.length - 1));
                }}
              />
            )}
            {renderItems()}
          </PopperWrapper>
        </div>
      )}
    >
      {children}
    </Tippy>
  );
}

export default Menu;

*/

Trong components/Layout/components/Header/index.js:
/*
import { useEffect, useState } from 'react';
import classNames from 'classnames/bind';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import {
  faCircleXmark,
  faMagnifyingGlass,
  faSpinner,
  faEllipsisVertical,
  faEarthAsia,
  faCircleQuestion,
  faKeyboard,
} from '@fortawesome/free-solid-svg-icons';
import Tippy from '@tippyjs/react/headless';

import styles from './Header.module.scss';

import images from '~/assets/images';

import { Wrapper as PopperWrapper } from '~/components/Popper';

import AccountItem from '~/components/AccountItem';

import Button from '~/components/Button';

import Menu from '~/components/Popper/Menu';

const cx = classNames.bind(styles);

const MENU_ITEMS = [
  {
    icon: <FontAwesomeIcon icon={faEarthAsia} />,
    title: 'English',
    children: {
      title: 'Language',
      data: [
        {
          type: 'tiếng anh',
          code: 'en',
          title: 'English',
        },
        {
          type: 'Vietnamess',
          code: 'vi',
          title: 'Tiếng Việt',
          children: {
            title: 'Vùng Miềng',
            data: [
              {
                code: 'vin',
                title: 'Tiếng Việt Bắc',
              },
              {
                code: 'vis',
                title: 'Tiếng Việt Nam',
                children: {
                  title: 'Hướng',
                  data: [
                    {
                      code: 'visw',
                      title: 'Tiếng Việt Tây',
                    },
                    {
                      code: 'vise',
                      title: 'Tiếng Việt Đông',
                    },
                  ],
                },
              },
            ],
          },
        },
      ],
    },
  },
  {
    icon: <FontAwesomeIcon icon={faCircleQuestion} />,
    title: 'Feedback and Help',
    to: '/feedback',
  },
  {
    icon: <FontAwesomeIcon icon={faKeyboard} />,
    title: 'Keyboard Shortcuts',
  },
];

function Header() {
  const [searchResult, setSearchResult] = useState([]);

  useEffect(() => {
    setTimeout(() => {
      setSearchResult([
        /*sau này sẽ gọi api nên giờ ẩn đi*/
      ]);
    }, 0);
  }, []);

  //Handle logic
  const handleMenuChange = (menuItem) => {
    switch (menuItem.type) {
      case 'Vietnamess':
        //Handle change language
        break;
      default:
    }
  };

  return (
    <header className={cx('wrapper')}>
      <div className={cx('inner')}>
        <div className={cx('logo')}>
          <img src={images.logo} alt="TikTok" />
        </div>

        <Tippy
          interactive
          visible={searchResult.length > 0}
          render={(attrs) => (
            <div className={cx('search-result')} tabIndex="-1" {...attrs}>
              <PopperWrapper>
                <h4 className={cx('search-title')}>Accounts</h4>
                <AccountItem />
                <AccountItem />
                <AccountItem />
                <AccountItem />
              </PopperWrapper>
            </div>
          )}
        >
          <div className={cx('search')}>
            <input placeholder="Search accounts and videos" spellCheck={false} />

            <button className={cx('clear-btn')}>
              <FontAwesomeIcon icon={faCircleXmark} />
            </button>

            <FontAwesomeIcon className={cx('loading')} icon={faSpinner} />

            <button className={cx('search-btn')}>
              <FontAwesomeIcon icon={faMagnifyingGlass} />
            </button>
          </div>
        </Tippy>

        <div className={cx('actions')}>
          <Button text>Upload</Button>
          <Button primary>Log in</Button>

          <Menu items={MENU_ITEMS} onChange={handleMenuChange}>
            <button className={cx('more-btn')}>
              <FontAwesomeIcon icon={faEllipsisVertical} />
            </button>
          </Menu>
        </div>
      </div>
    </header>
  );
}

export default Header;

*/

Trong components/Propper/Menu/MenuItem.js
/*
import Button from '~/components/Button';
import classNames from 'classnames/bind';
import styles from './Menu.module.scss';

const cx = classNames.bind(styles);

function MenuItem({ data, onClick }) {
  return (
    <Button className={cx('menu-item')} leftIcon={data.icon} to={data.to} onClick={onClick}>
      {data.title}
    </Button>
  );
}

export default MenuItem;

*/

Trong components/Popper/Menu/Menu.module.scss
/*
//Menu wrapper
.menu-list {
  width: 224px;

  //Menu item
  .menu-item {
    margin-left: 0;
  }
}

.menu-popper {
  padding-bottom: 8px;
}

//Menu item
.menu-item {
  width: 100%;
  justify-content: flex-start;
  border-radius: 0;
  font-weight: unset;
  padding: 11px 16px;
  line-height: 1.8rem;

  &:hover {
    background-color: rgba(22, 24, 35, 0.03);
  }
}

//Header language menu
.header {
  position: relative;
  height: 50px;
  margin-top: -8px;
}

.back-btn {
  width: 50px;
  height: 100%;
  background-color: transparent;
  cursor: pointer;
}

.header-title {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

*/